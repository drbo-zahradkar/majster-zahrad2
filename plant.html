<!doctype html>
<html lang="sk">
<head>
  <meta charset="utf-8">
  <title>Detail rastliny</title>
  <link rel="stylesheet" href="assets/styles.css">
  <style>
    body { background: #f8f8f8; padding: 20px; }
    .box {
      max-width: 600px; 
      margin: auto; 
      background: white; 
      padding: 20px; 
      border-radius: 10px; 
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    img { width: 100%; border-radius: 8px; margin-top: 10px; }
  </style>
</head>
<body>
<a href="plants.html">‚Üê Sp√§≈•</a>

<div id="plantDetail" class="box">Naƒç√≠tavam √∫daje...</div>

<script>
const params = new URLSearchParams(window.location.search);
const latin = params.get("latin");

async function loadPlant() {
  try {
    const res = await fetch(`https://proxy-pre-zahradkara-drba.onrender.com/plants?q=${latin}`);
    const data = await res.json();
    const p = data.data && data.data[0];

    if (!p) {
      document.getElementById("plantDetail").innerHTML = "<p>Rastlina sa nena≈°la üò¢</p>";
      return;
    }

    document.getElementById("plantDetail").innerHTML = `
  <h1>${p.common_name || "Nezn√°ma rastlina"}</h1>
  <h3><i>${p.scientific_name || ""}</i></h3>
  <img src="${p.image_url || "https://placehold.co/400x300?text=Bez+obrazka"}" alt="${p.common_name}">
  
  <p><strong>Rodina:</strong> ${p.family || "Nie je uveden√°"}</p>
  <p><strong>Popis:</strong> ${p.observations || "T√°to rastlina nem√° pridan√Ω popis."}</p>
  <p><strong>P√¥vod:</strong> ${p.native_status || "Nezn√°my"}</p>
  <p><strong>Dostupn√© √∫daje:</strong> Trefle API poskytlo obmedzen√© inform√°cie.</p>
`;
  } catch (err) {
    document.getElementById("plantDetail").innerHTML = "<p>Chyba pri naƒç√≠tan√≠ √∫dajov.</p>";
  }
}

loadPlant();
</script>
</body>
</html>
